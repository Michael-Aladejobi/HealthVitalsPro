<!-- <!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Search Page</title>
        <style>
            body {
                font-family: Arial, sans-serif;
            }
            .search-container {
                margin: 20px;
            }
            .highlight {
                background-color: yellow;
            }
        </style>
    </head>
    <body>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search..." />
            <button onclick="searchText()">Search</button>
        </div>

        <div id="content">
            <p>
                This is a sample paragraph. Try searching for words like
                'sample' or 'paragraph'.
            </p>
            <p>
                Another paragraph with different content. Searching should
                highlight words here too.
            </p>
        </div>

        <script>
            function searchText() {
                // Get the input value
                const searchInput = document
                    .getElementById("searchInput")
                    .value.toLowerCase();

                // Get the body element
                const body = document.body;

                // Remove previous highlights
                const highlighted = body.querySelectorAll(".highlight");
                highlighted.forEach((el) => {
                    el.classList.remove("highlight");
                    const text = el.innerText;
                    el.outerHTML = text; // Replace the span with the original text
                });

                // Recursive function to highlight text in text nodes
                function highlightText(node) {
                    if (node.nodeType === 3) {
                        // Text node
                        const text = node.nodeValue;
                        const regex = new RegExp(`(${searchInput})`, "gi");
                        const newText = text.replace(
                            regex,
                            '<span class="highlight">$1</span>'
                        );
                        if (newText !== text) {
                            const span = document.createElement("span");
                            span.innerHTML = newText;
                            node.parentNode.replaceChild(span, node);
                        }
                    } else if (
                        node.nodeType === 1 &&
                        node.nodeName !== "SCRIPT" &&
                        node.nodeName !== "STYLE"
                    ) {
                        // Traverse child nodes if the node is an element node
                        for (let i = 0; i < node.childNodes.length; i++) {
                            highlightText(node.childNodes[i]);
                        }
                    }
                }

                // Start highlighting from the body element
                highlightText(body);
            }
        </script>
    </body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Search Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .search-container {
      margin: 20px;
    }
    .hidden {
      display: none;
    }
    .visible {
      display: block;
      background-color: yellow;
    }
  </style>
</head>
<body>
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search...">
    <button onclick="searchText()">Search</button>
    <button onclick="resetSearch()">Reset</button>
  </div>

  <div id="content">
    <p>This is a sample paragraph. Try searching for words like 'sample' or 'paragraph'.</p>
    <p>Another paragraph with different content. Searching should highlight words here too.</p>
    <p>More content to test the search functionality.</p>
    <p>Yet another paragraph to ensure comprehensive search results.</p>
  </div>

  <script>
    function searchText() {
      // Get the input value
      const searchInput = document.getElementById('searchInput').value.toLowerCase();

      // Get all paragraphs in the content div
      const paragraphs = document.querySelectorAll('#content p');

      // Loop through all paragraphs to search for the text
      paragraphs.forEach(paragraph => {
        const text = paragraph.textContent.toLowerCase();
        if (text.includes(searchInput)) {
          paragraph.classList.add('visible');
          paragraph.classList.remove('hidden');
        } else {
          paragraph.classList.add('hidden');
          paragraph.classList.remove('visible');
        }
      });
    }

    function resetSearch() {
      // Get all paragraphs in the content div
      const paragraphs = document.querySelectorAll('#content p');

      // Loop through all paragraphs to reset their visibility
      paragraphs.forEach(paragraph => {
        paragraph.classList.remove('hidden');
        paragraph.classList.remove('visible');
      });

      // Clear the search input
      document.getElementById('searchInput').value = '';
    }
  </script>
</body>
</html>
